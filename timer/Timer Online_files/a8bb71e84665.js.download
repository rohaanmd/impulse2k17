var $jscomp={scope:{},findInternal:function(a,c,b){a instanceof String&&(a=String(a));for(var d=a.length,e=0;e<d;e++){var g=a[e];if(c.call(b,g,e,a))return{i:e,v:g}}return{i:-1,v:void 0}}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,b){if(b.get||b.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[c]=b.value)};
$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,c,b,d){if(c){b=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in b||(b[e]={});b=b[e]}a=a[a.length-1];d=b[a];c=c(d);c!=d&&null!=c&&$jscomp.defineProperty(b,a,{configurable:!0,writable:!0,value:c})}};
$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,b){return $jscomp.findInternal(this,a,b).v}},"es6-impl","es3");
$(function(){var a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},c,b,d,e=$("body"),g=$("html, body, .pure-g, #create-form"),m=$(".wrapper"),p=m.length?m:e,h=function(a,b,c,d){var f=a.first().clone();0<b-17&&(b-=17);var e=Math.round(a.length*b*3/4/100);0<b-e&&(b-=e);f.css("height",c+"px");f.css("width",b+"px");f.html(d);f.appendTo(p);try{textFit(f,{detectMultiLine:!1,minFontSize:1,maxFontSize:1E3});var q=f.find("span").css("font-size");a.css("font-size",q);a.css("line-height",
a.first().height()+"px")}catch(v){n()}f.remove()},k=function(a){a=$("#"+a+":visible");a.length&&h(a,a.width(),a.height(),a.text())},r=function(){var b=$("#name");if(b.is(":visible")){var c=String(b.html()).replace(/[&<>"'\/]/g,function(b){return a[b]});h(b,b.width(),b.height(),c)}},t=function(){var a=$(".unit_value:visible");if(a.length){var b="";a.each(function(){b+=$(this).text()});h(a,$(".counter-wrapper").width(),a.first().height(),b)}},u=function(){var a=$(".unit_name:visible");if(a.length){var b=
$(".unit_value:visible").not(".colon .unit_value").not("#id_sign"),c="",d=Infinity;a.each(function(){$(this).text().length>c.length&&(c=$(this).text())});b.each(function(){$(this).width()<d&&(d=$(this).width())});d+=17;h(a,d,a.first().height(),c)}},l=function(){g.css("overflow","hidden");r();t();u();k("value-wrapper");k("clock-time");k("clock-date");g.css("overflow","visible")},n=function(){clearTimeout(c);clearTimeout(b);clearTimeout(d);c=setTimeout(function(){b=setTimeout(function(){d=setTimeout(function(){l()},
500);l()},100);l()},50)};window.fit_fonts=n});
